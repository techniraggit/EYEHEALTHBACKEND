{% extends "base/base.html" %}
{% load static %}
{% block title %}{% endblock title %}
{% block body %}
<div class="mainwrapper">
    <div class="side-bar">
        <div class="innerdiv">
            <h5><a href="/" style="color: rgb(38, 50, 56);">Admin</a></h5>
            <div class="side-list">
                <ul>
                    {% if request.user.is_superuser %}
                        <li><a href="/backend"><i class="fa-solid fa-database me-2"></i> Developer Admin</a></li>
                    {% endif %}
                    {% if is_home %}
                        <li><a href="/" class="acive-link"><i class="fa-solid fa-house me-2"></i>Home</a></li>
                    {% else %}
                        <li><a href="/"><i class="fa-solid fa-house me-2"></i>Home</a></li>
                    {% endif %}

                    {% if is_user %}
                        <li><a href="{% url "users_view" %}" class="acive-link"><i class="fa-solid fa-user me-2"></i>User</a></li>
                    {% else %}
                        <li><a href="{% url "users_view" %}"><i class="fa-solid fa-user me-2"></i>User</a></li>
                    {% endif %}

                    {% if is_offer %}
                        <li><a href="{% url "offers_view" %}" class="acive-link"><i class="fa-solid fa-receipt me-2"></i>Offers</a></li>
                    {% else %}
                        <li><a href="{% url "offers_view" %}"><i class="fa-solid fa-receipt me-2"></i>Offers</a></li>
                    {% endif %}

                    {% if is_prescription %}
                        <li><a href="{% url "prescription_view" %}" class="acive-link"><i class="fa-solid fa-prescription me-2"></i>Uploaded Prescription</a></li>
                    {% else %}
                        <li><a href="{% url "prescription_view" %}"><i class="fa-solid fa-prescription me-2"></i>Uploaded Prescription</a></li>
                    {% endif %}

                    {% if is_notification %}
                        <li><a href="{% url "notification_view" %}" class="acive-link"><i class="fa-solid fa-bell me-2"></i>Notification</a></li>
                    {% else %}
                        <li><a href="{% url "notification_view" %}"><i class="fa-solid fa-bell me-2"></i>Notification</a></li>
                    {% endif %}

                    {% if is_redeemed_offers %}
                        <li><a href="{% url "redeemed_offers_view" %}" class="acive-link"><i class="fa-solid fa-hand-holding-dollar me-2"></i>Redeemed Offers</a></li>
                    {% else %}
                        <li><a href="{% url "redeemed_offers_view" %}"><i class="fa-solid fa-hand-holding-dollar me-2"></i>Redeemed Offers</a></li>
                    {% endif %}

                    {% if is_subscription %}
                        <li><a href="{% url "subscription_view" %}" class="acive-link"><i class="fa-solid fa-money-check-dollar me-2"></i>Subscription Plans</a></li>
                    {% else %}
                        <li><a href="{% url "subscription_view" %}"><i class="fa-solid fa-money-check-dollar me-2"></i>Subscription Plans</a></li>
                    {% endif %}

                    {% if is_user_subscription %}
                        <li><a href="{% url "user_subscription_plans_view" %}" class="acive-link"><i class="fa-solid fa-calendar-check me-2"></i>User Subscription</a></li>
                    {% else %}
                        <li><a href="{% url "user_subscription_plans_view" %}"><i class="fa-solid fa-calendar-check me-2"></i>User Subscription</a></li>
                    {% endif %}

                    {% if is_eye_exam %}
                        <li><a href="{% url "eye_test_view" %}" class="acive-link"><i class="fa-solid fa-arrows-to-eye me-2"></i>Eye Test</a></li>
                    {% else %}
                        <li><a href="{% url "eye_test_view" %}"><i class="fa-solid fa-arrows-to-eye me-2"></i>Eye Test</a></li>
                    {% endif %}
                    
                    {% if is_eye_fatigue %}
                        <li><a href="{% url "eye_fatigue_view" %}" class="acive-link"><i class="fa-solid fa-eye me-2"></i>Eye Fatigue</a></li>
                    {% else %}
                        <li><a href="{% url "eye_fatigue_view" %}"><i class="fa-solid fa-eye me-2"></i>Eye Fatigue</a></li>
                    {% endif %}

                    {% if is_privacy_policy %}
                        <li><a href="{% url "privacy_policy_view" %}" class="acive-link"><i class="fa-solid fa-file-contract me-2"></i>Privacy Policy</a></li>
                    {% else %}
                        <li><a href="{% url "privacy_policy_view" %}"><i class="fa-solid fa-file-contract me-2"></i>Privacy Policy</a></li>
                    {% endif %}

                    {% if is_term_and_conditions %}
                        <li><a href="{% url "term_and_condition_view" %}" class="acive-link"><i class="fa-solid fa-handshake me-2"></i>Terms and Conditions</a></li>
                    {% else %}
                        <li><a href="{% url "term_and_condition_view" %}"><i class="fa-solid fa-handshake me-2"></i>Terms and Conditions</a></li>
                    {% endif %}
                    

                    {% if is_settings %}
                        <li><a href="{% url "settings_view" %}" class="acive-link"><i class="fa-solid fa-sliders me-2"></i>Settings</a></li>
                    {% else %}
                        <li><a href="{% url "settings_view" %}"><i class="fa-solid fa-sliders me-2"></i>Settings</a></li>
                    {% endif %}

                    {% if is_trash %}
                        <li><a href="{% url "trash_view" %}" class="acive-link"><i class="fa-solid fa-trash me-2"></i>Trash</a></li>
                    {% else %}
                        <li><a href="{% url "trash_view" %}"><i class="fa-solid fa-trash me-2"></i>Trash</a></li>
                    {% endif %}

                    {% if request.user.is_superuser %}
                        {% if is_credentials %}
                            <li><a href="{% url "credentials_view" %}" class="acive-link"><i class="fa-solid fa-key me-2"></i>Credentials</a></li>
                        {% else %}
                            <li><a href="{% url "credentials_view" %}"><i class="fa-solid fa-key me-2"></i>Credentials</a></li>
                        {% endif %}
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>
    <div class="right-bar">
        <header class="header-main row">
            <div class=" header-heading col-9">
                {% block page_name %}-----{% endblock page_name %}
            </div>

            <div class="col-3 root-main">
                <i class="fa-regular fa-bell me-3" id="notification-bell"></i>
                <div class="login-wrap">
                    <img src="{% if request.user.image %}{{request.user.image.url}}{% else %}{% static 'img/default_user_icon.png' %}{% endif %}" alt="User Icon" class="profile-image" id="profileImage" />
                    <span class="ms-3">{{ request.user.first_name }} {{ request.user.last_name }}</span>
                    <div class="popup-menu" id="popupMenu">
                        <a href="{% url "my_profile_view" %}"><i class="fa-solid fa-user me-2"></i>Profile</a>
                        <a href="{% url "logout_view" %}"><i class="fa-solid fa-arrow-right-from-bracket me-2"></i>Logout</a>
                    </div>
                </div>
            </div>
            <div class="notification-screen" id="notification-screen">
                <div class="notification-top">
                    <h3>Notifications</h3> <i class="fa-solid fa-xmark"></i>
                </div>
        <div class="notification-data">
            <p>1. my name is nitin saini </p>
        </div>
            </div>
        </header>
        {% block nav_bar %}{% endblock nav_bar %}
        <div class="right-table">
            {% block table %}
            {% endblock table %}
        </div>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const notificationBell = document.getElementById('notification-bell');
        const notificationScreen = document.getElementById('notification-screen');
    
        notificationBell.addEventListener('click', function() {
            if (notificationScreen.style.display === 'block') {
                notificationScreen.style.display = 'none';
            } else {
                notificationScreen.style.display = 'block';
            }
        });
    
        // Optional: Hide the notification screen when clicking outside of it
        document.addEventListener('click', function(event) {
            if (!notificationBell.contains(event.target) && !notificationScreen.contains(event.target)) {
                notificationScreen.style.display = 'none';
            }
        });
    });
    
    $(document).ready(function() {
        $('#profileImage').on('click', function() {
            $('#popupMenu').slideToggle('fast');
        });
    
        $(window).on('click', function(event) {

            if (!$(event.target).closest('#profileImage').length && !$(event.target).closest('#popupMenu').length) {
                $('#popupMenu').slideUp('fast');
            }
        });
    });
</script>
{% endblock body %}